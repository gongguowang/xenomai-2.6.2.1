<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.5.2" />
<title>SWITCHTEST(1)</title>
<link rel="stylesheet" href="../asciidoc-css/xhtml11.css" type="text/css" />
<link rel="stylesheet" href="../asciidoc-css/xhtml11-quirks.css" type="text/css" />
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes(); asciidoc.toc(3);}
/*]]>*/
</script>
<script type="text/javascript" src="../asciidoc-js/asciidoc-xhtml11.js"></script>
</head>
<body style="max-width:55em">
<div id="header">
<h1>SWITCHTEST(1)</h1>
<span id="revdate">2008/04/19</span>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<h2 id="_name">1. NAME</h2>
<div class="sectionbody">
<div class="paragraph"><p>switchtest - Xenomai context switch test</p></div>
</div>
<h2 id="_synopsis">2. SYNOPSIS</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>switchtest</strong> [options] threadspec threadspec&#8230;</p></div>
</div>
<h2 id="_description">3. DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>switchtest</strong> is part of Xenomai. It can be used to test thread context
switches. <strong>switchtest</strong> creates threads of various types and attempts to
switch context between these threads, printing the count of context switches
every second. A suitable Xenomai enabled kernel with the respective module
(xeno_posix) must be installed.</p></div>
</div>
<h2 id="_options">4. OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph"><p>Each threadspec specifies the characteristics of a thread to be created:</p></div>
<div class="paragraph"><p>threadspec = (rtk|rtup|rtus|rtuo)(_fp|_ufpp|_ufps)<strong>[0-9]</strong></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>rtk</strong>
</dt>
<dd>
<p>
for a kernel-space real-time thread
</p>
</dd>
<dt class="hdlist1">
<strong>rtup</strong>
</dt>
<dd>
<p>
for a user-space real-time thread running in primary mode
</p>
</dd>
<dt class="hdlist1">
<strong>rtus</strong>
</dt>
<dd>
<p>
for a user-space real-time thread running in secondary mode
</p>
</dd>
<dt class="hdlist1">
<strong>rtuo</strong>
</dt>
<dd>
<p>
for a user-space real-time thread oscillating between primary and secondary mode
</p>
</dd>
<dt class="hdlist1">
<strong>_fp</strong>
</dt>
<dd>
<p>
means that the created thread will have the XNFPU bit armed (only valid for rtk)
</p>
</dd>
<dt class="hdlist1">
<strong>_ufpp</strong>
</dt>
<dd>
<p>
means that the created thread will use the FPU when in primary mode\n(invalid for rtus)
</p>
</dd>
<dt class="hdlist1">
<strong>_ufps</strong>
</dt>
<dd>
<p>
means that the created thread will use the FPU when in secondary mode (invalid for rtk and rtup)
</p>
</dd>
<dt class="hdlist1">
<strong>"[0-9]\</strong>" specifies the ID of the CPU where the created thread will run, 0 if unspecified*
</dt>
<dd>
<p>
Passing no
<strong>threadspec</strong>
is equivalent to running:
</p>
</dd>
</dl></div>
<div class="paragraph"><p>switchtest rtkN rtkN rtk_fpN rtk_fpN rtk_fp_ufppN rtk_fp_ufppN rtupN rtupN rtup_ufppN
rtup_ufppN rtusN rtusN rtus_ufpsN rtus_ufpsN rtuoN rtuoN rtuo_ufppN rtuo_ufppN rtuo_ufpsN
rtuo_ufpsN rtuo_ufpp_ufpsN rtuo_ufpp_ufpsN</p></div>
<div class="paragraph"><p>with N=1,&#8230;,nr_cpus, i.e. occurrences of all the arguments for each CPU</p></div>
<div class="paragraph"><p>Passing only the --nofpu or -n argument is equivalent to running:</p></div>
<div class="paragraph"><p>switchtest rtkN rtkN rtupN rtupN rtusN rtusN rtuoN rtuoN</p></div>
<div class="paragraph"><p>similar to the above.</p></div>
<div class="paragraph"><p><strong>switchtest</strong> accepts the following options:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>--help, -h</strong>
</dt>
<dd>
<p>
print usage information and exit
</p>
</dd>
<dt class="hdlist1">
<strong>--lines &lt;lines&gt;, -l &lt;lines&gt;</strong>
</dt>
<dd>
<p>
print headers every &lt;lines&gt; lines
</p>
</dd>
<dt class="hdlist1">
<strong>--quiet or -q</strong>
</dt>
<dd>
<p>
prevent this program from printing every second the count of ncontext switches
</p>
</dd>
<dt class="hdlist1">
<strong>--timeout &lt;duration&gt;, -T &lt;duration&gt;</strong>
</dt>
<dd>
<p>
limit the test duration to &lt;duration&gt; seconds
</p>
</dd>
<dt class="hdlist1">
<strong>--nofpu, -n</strong>
</dt>
<dd>
<p>
disables any use of FPU instructions
</p>
</dd>
</dl></div>
</div>
<h2 id="_author">5. AUTHOR</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>switchtest</strong> was written by Philippe Gerum and Gilles
Chanteperdrix. This man page was written by
Roland Stigge.</p></div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2012-12-18 22:17:25 CEST
</div>
</div>
</body>
</html>
